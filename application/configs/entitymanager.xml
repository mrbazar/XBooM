<?xml version="1.0" ?>

<container xmlns="http://symfony-project.org/2.0/container">

  <parameters>
      <parameter key="doctrine.connection.options" type="collection">
          <parameter key="driver">pdo_sqlite</parameter>
          <parameter key="path">/dev/null</parameter>
      </parameter>
      <parameter key="doctrine.orm.path_to_mappings">/configs/mappings</parameter>
      <parameter key="doctrine.orm.path_to_proxies">/dev/null</parameter>
      <parameter key="doctrine.orm.proxy_namespace">/dev/null</parameter>
  </parameters>

  <services>
    <service id="doctrine.orm.mapping.driver"
             class="Doctrine\ORM\Mapping\Driver\XmlDriver">
        <argument>%doctrine.orm.path_to_mappings%</argument>
    </service>

    <service id="doctrine.orm.configuration" class="Doctrine\ORM\Configuration">
        <call method="setMetadataDriverImpl">
            <argument type="service" id="doctrine.orm.mapping.driver"/>
        </call>
        <call method="setProxyDir">
            <argument>%doctrine.orm.path_to_proxies%</argument>
        </call>
        <call method="setProxyNamespace">
            <argument>%doctrine.orm.proxy_namespace%</argument>
        </call>
    </service>

    <service id="doctrine.orm.entitymanager"
             class="Doctrine\ORM\EntityManager"
             constructor="create">
        <argument>%doctrine.connection.options%</argument>
        <argument type="service" id="doctrine.orm.configuration" />
    </service>
  </services>

</container>